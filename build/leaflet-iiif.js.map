{"version":3,"sources":["webpack://leaflet-iiif/webpack/universalModuleDefinition","webpack://leaflet-iiif/./src/event.ts","webpack://leaflet-iiif/./src/layer.ts","webpack://leaflet-iiif/external {\"amd\":\"leaflet\",\"root\":\"L\",\"commonjs\":\"leaflet\",\"commonjs2\":\"leaflet\"}","webpack://leaflet-iiif/./src/types.ts","webpack://leaflet-iiif/./src/utils/server-capabilities.ts","webpack://leaflet-iiif/./src/utils/helper.ts","webpack://leaflet-iiif/./src/utils/projection.ts","webpack://leaflet-iiif/./src/toolbar.ts","webpack://leaflet-iiif/./src/assets/index.scss?ccbb","webpack://leaflet-iiif/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://leaflet-iiif/./src/assets/index.scss","webpack://leaflet-iiif/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://leaflet-iiif/./node_modules/css-loader/dist/runtime/api.js","webpack://leaflet-iiif/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://leaflet-iiif/./src/assets/paint-board-and-brush.svg","webpack://leaflet-iiif/./src/assets/jpg.svg","webpack://leaflet-iiif/./src/assets/symmetry.svg","webpack://leaflet-iiif/./src/assets/rotate-circular-arrow-around-a-rotated-square.svg","webpack://leaflet-iiif/webpack/bootstrap","webpack://leaflet-iiif/webpack/runtime/compat get default export","webpack://leaflet-iiif/webpack/runtime/define property getters","webpack://leaflet-iiif/webpack/runtime/hasOwnProperty shorthand","webpack://leaflet-iiif/webpack/runtime/make namespace object","webpack://leaflet-iiif/./src/index.ts"],"names":[],"mappings":"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ACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,CAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AA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","file":"leaflet-iiif.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"leaflet\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"leaflet\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"leaflet-iiif\"] = factory(require(\"leaflet\"));\n\telse\n\t\troot[\"leaflet-iiif\"] = factory(root[\"L\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__3__) {\nreturn ","export const IIIF_EVENTS: { [event: string]: string } = {\n  CHANGE_FORMAT: \"iiif:format\",\n  CHANGE_QUALITY: \"iiif:quality\",\n  CHANGE_ROTATION: \"iiif:rotation\",\n  CHANGE_MIRRORING: \"iiif:mirroring\",\n};\n","import L, { Map, Point, TileLayer, TileLayerOptions, TileEvent, Util } from \"leaflet\";\nimport {\n  DEFAULT_OPTIONS,\n  SERVER_CAPABILITIES_DEFAULT,\n  IIIFLayerOptions,\n  ServerCapabilities,\n  TileUrlParams,\n} from \"./types\";\nimport { IIIF_EVENTS } from \"./event\";\nimport { computeServerCapabilities } from \"./utils/server-capabilities\";\nimport { templateUrl } from \"./utils/helper\";\nimport { projectPoint, projectSquare } from \"./utils/projection\";\n\nexport class IIIFLayer extends TileLayer {\n  // Layer options\n  public options: IIIFLayerOptions;\n\n  // Leaflet map\n  map: Map | null = null;\n  _url: string;\n\n  // Promise of the\n  initializePromise: Promise<void>;\n\n  // Server capabilities\n  server: ServerCapabilities = SERVER_CAPABILITIES_DEFAULT;\n\n  // Dimension of the image\n  height: number = 0;\n  width: number = 0;\n\n  zoomLayers: Array<{\n    // Map zoom level\n    zoom: number;\n    // the scaling ratio\n    scale: number;\n    // height of the image at this scale\n    height: number;\n    // width of the image at this scale\n    width: number;\n    // number of tiles in x & y\n    tiles: [number, number];\n  }> = [];\n\n  /**\n   * IIIF Layer constructor.\n   *\n   * @param {string} url The IIIF info endpoint for an image  (ex: https://stacks.stanford.edu/image/iiif/hg676jb4964%2F0380_796-44/info.json)\n   * @param {object} options List of options for the layer\n   */\n  constructor(url: string, options: Partial<IIIFLayerOptions> = {}) {\n    super(url, options);\n    this.setUrl(templateUrl(url));\n  }\n\n  /**\n   * Initialize the layer by calling the info endpoint of the image,\n   * compute the server capabilities and set the initial state.\n   */\n  initialize(url: string, options: Partial<IIIFLayerOptions>): this {\n    this.initializePromise = new Promise(async (resolve, reject) => {\n      try {\n        // Calling the iiif info endpoint\n        const response = await fetch(url);\n        const data: any = await response.json();\n\n        // saving the image dimension\n        this.height = data.height;\n        this.width = data.width;\n\n        // server capabilities\n        this.server = computeServerCapabilities(data);\n\n        // Settings\n        this.options = Object.assign(\n          this.options,\n          DEFAULT_OPTIONS,\n          // Server pref\n          {\n            tileSize: this.server.tileSize,\n            tileFormat: this.server.formats[0],\n            quality: this.server.qualities.includes(\"native\") ? \"native\" : \"default\",\n            minZoom: this.server.minZoom,\n            maxZoom: this.server.maxZoom,\n          },\n          // User's options\n          options,\n        );\n        resolve();\n      } catch (e) {\n        reject(e);\n      }\n    });\n    return this;\n  }\n\n  onAdd(map: Map): this {\n    this.map = map;\n\n    // Wait for info.json fetch and parse to complete\n    this.initializePromise.then(() => {\n      // Compute image sizes\n      this.computeZoomLayers();\n\n      // calling super after we compute all the zoom\n      super.onAdd(map);\n\n      // Fit bounds\n      if (this.options.fitBounds) {\n        this.map.fitBounds(this.getBounds());\n      }\n\n      // Set max bound\n      if (this.options.setMaxBounds) {\n        this.map.setMaxBounds(this.getBounds());\n      }\n    });\n\n    // register events\n    this.registerEvents(map);\n\n    return this;\n  }\n\n  onRemove(map: Map): this {\n    // calling super\n    super.onRemove(map);\n\n    // Remove maxBounds set for this image\n    if (this.options.setMaxBounds) {\n      // bug in the type definition\n      map.setMaxBounds((null as unknown) as L.LatLngBoundsExpression);\n    }\n\n    // unregister events\n    this.unRegisterEvents(map);\n\n    return this;\n  }\n\n  /**\n   * Generate the tile IIIF url based on the tile coordinates\n   */\n  public getTileUrl(coords: L.Coords): string {\n    const z = coords[\"z\"];\n    const x = coords[\"x\"];\n    const y = coords[\"y\"];\n    const zoomLayer = this.zoomLayers.find(layer => layer.zoom === z);\n    if (!zoomLayer) throw new Error(`Can't create tile for zoom ${z}`);\n\n    // Handle rotation\n    const unprojectedSquare = projectSquare(-1 * this.options.rotation, {\n      bottomLeft: { x, y },\n      topRight: { x: x + 1, y: y + 1 },\n    });\n\n    const tileSizeX = this.options.tileSize.x / zoomLayer.scale;\n    const tileSizeY = this.options.tileSize.y / zoomLayer.scale;\n\n    // Compute the image region / bbox NW/SE\n    let minX = Math.min(unprojectedSquare.bottomLeft.x * tileSizeX, this.width);\n    let minY = Math.min(unprojectedSquare.bottomLeft.y * tileSizeY, this.height);\n    let maxX = Math.min(minX + tileSizeX, this.width);\n    let maxY = Math.min(minY + tileSizeY, this.height);\n\n    // In mirroring, if we do the diff with the width,\n    // we then have the bbox NE/SO,\n    // so we need to switch back to NW/SE by add/subs the diff\n    if (this.options.mirroring === true) {\n      const diffX = maxX - minX;\n      minX = this.width - minX - diffX;\n      maxX = this.width - maxX + diffX;\n    }\n\n    const params = {\n      format: this.options.tileFormat,\n      quality: this.options.quality,\n      mirroring: this.options.mirroring,\n      region: [minX, minY, Math.abs(maxX - minX), Math.abs(maxY - minY)],\n      rotation: (360 - this.options.rotation) % 360,\n      size: [Math.abs(maxX - minX), Math.abs(maxY - minY)].map(s => Math.ceil(s * zoomLayer.scale)) as [number, number],\n    };\n\n    return L.Util.template(this._url, {\n      format: params.format,\n      quality: params.quality,\n      mirroring: params.mirroring ? \"!\" : \"\",\n      region: params.region.join(\",\"),\n      rotation: params.rotation,\n      size: params.size.join(\",\"),\n    });\n  }\n\n  protected _isValidTile(coords: L.Coords) {\n    let isValid = false;\n    const x = coords[\"x\"];\n    const y = coords[\"y\"];\n    const z = coords[\"z\"];\n\n    // Handle rotation (leaflet axis are reversed, so a 90 rotation is in fact a -90 rotation)\n    const unprojectedSquare = projectSquare(-1 * this.options.rotation, {\n      bottomLeft: { x, y },\n      topRight: { x: x + 1, y: y + 1 },\n    });\n\n    if (this.options.minZoom <= z && z <= this.options.maxZoom) {\n      const originalZoomLayer = this.zoomLayers.find(layer => layer.zoom === z);\n      if (\n        0 <= unprojectedSquare.bottomLeft.x &&\n        unprojectedSquare.bottomLeft.x < originalZoomLayer.tiles[0] &&\n        0 <= unprojectedSquare.bottomLeft.y &&\n        unprojectedSquare.bottomLeft.y < originalZoomLayer.tiles[1]\n      )\n        isValid = true;\n    }\n    return isValid;\n  }\n\n  /**\n   * Compute the bounds of the layer.\n   */\n  private getBounds(): L.LatLngBounds {\n    let result = L.latLngBounds([0, 1], [1, 0]);\n\n    const originalZoomLayer = this.zoomLayers.find(layer => layer.scale === 1);\n    if (this.map !== null && originalZoomLayer) {\n      const projectedSquare = projectSquare(this.options.rotation, {\n        bottomLeft: { x: 0, y: originalZoomLayer.height },\n        topRight: { x: originalZoomLayer.width, y: 0 },\n      });\n\n      const sw = this.map.unproject(L.point(projectedSquare.bottomLeft), 0);\n      const ne = this.map.unproject(L.point(projectedSquare.topRight), 0);\n      result = L.latLngBounds(sw, ne);\n    }\n\n    return result;\n  }\n\n  /**\n   * Compute the different images by zoom level\n   */\n  private computeZoomLayers(): void {\n    this.zoomLayers = [];\n\n    let zoom = this.options.minZoom;\n    while (zoom <= this.options.maxZoom) {\n      const scale = Math.pow(2, zoom);\n      const height = Math.ceil(this.height * scale);\n      const width = Math.ceil(this.width * scale);\n      this.zoomLayers.push({\n        zoom,\n        scale,\n        height,\n        width,\n        tiles: [Math.ceil(width / this.options.tileSize.x), Math.ceil(height / this.options.tileSize.y)],\n      });\n      zoom++;\n    }\n    // Setting the min /max zoom in the options & map\n    this.map.setMaxZoom(this.zoomLayers[this.zoomLayers.length - 1].zoom);\n    this.map.setMinZoom(this.zoomLayers[0].zoom);\n  }\n\n  private registerEvents(map: Map): void {\n    this.on(\"tileload\", this.onTileLoadStyle);\n    map.on(IIIF_EVENTS.CHANGE_FORMAT, (e: any) => this.changeFormat(e.value));\n    map.on(IIIF_EVENTS.CHANGE_QUALITY, (e: any) => this.changeQuality(e.value));\n    map.on(IIIF_EVENTS.CHANGE_ROTATION, (e: any) => this.changeRotation(e.value));\n    map.on(IIIF_EVENTS.CHANGE_MIRRORING, (e: any) => this.changeMirroring(e.value));\n  }\n\n  private unRegisterEvents(map: Map): void {\n    this.off(\"tileload\", this.onTileLoadStyle);\n    map.off(IIIF_EVENTS.CHANGE_FORMAT, (e: any) => this.changeFormat(e.value));\n    map.off(IIIF_EVENTS.CHANGE_QUALITY, (e: any) => this.changeQuality(e.value));\n    map.off(IIIF_EVENTS.CHANGE_ROTATION, (e: any) => this.changeRotation(e.value));\n    map.off(IIIF_EVENTS.CHANGE_MIRRORING, (e: any) => this.changeMirroring(e.value));\n  }\n\n  private changeFormat(value: string): void {\n    this.options.tileFormat = value;\n    this.redraw();\n  }\n\n  private changeQuality(value: string): void {\n    this.options.quality = value;\n    this.redraw();\n  }\n\n  private changeRotation(value: number): void {\n    this.options.rotation = value;\n    // Set max bound\n    if (this.options.setMaxBounds) {\n      this.map.setMaxBounds(this.getBounds());\n    }\n    this.redraw();\n  }\n\n  private changeMirroring(value: boolean): void {\n    this.options.mirroring = value;\n    this.redraw();\n  }\n\n  /**\n   * Handle border of images when the tiles are not full.\n   */\n  private onTileLoadStyle(tile: TileEvent): void {\n    if (tile.tile.naturalWidth !== this.options.tileSize.x || tile.tile.naturalHeight !== this.options.tileSize.y) {\n      tile.tile.style.width = `${tile.tile.naturalWidth}px`;\n      tile.tile.style.height = `${tile.tile.naturalHeight}px`;\n\n      const rotation = this.options.rotation % 360;\n      switch (rotation) {\n        case 90:\n          tile.tile.style.top = `${this.options.tileSize.x - tile.tile.naturalHeight}px`;\n          tile.tile.style.right = `${this.options.tileSize.y - tile.tile.naturalWidth}px`;\n          break;\n        case 180:\n          tile.tile.style.top = `${this.options.tileSize.x - tile.tile.naturalHeight}px`;\n          tile.tile.style.left = `${this.options.tileSize.y - tile.tile.naturalWidth}px`;\n          break;\n        case 270:\n          tile.tile.style.top = \"0\";\n          tile.tile.style.bottom = `${this.options.tileSize.x - tile.tile.naturalHeight}px`;\n          tile.tile.style.left = `${this.options.tileSize.y - tile.tile.naturalWidth}px`;\n          break;\n      }\n    }\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import L, { ControlOptions, Point, TileLayerOptions } from \"leaflet\";\n\n/**\n * List the capabilities of the server.\n */\nexport interface ServerCapabilities {\n  // IIIF version of the server (1.1, 2.0 or 3.0)\n  version: string;\n  // List of supported formats\n  formats: Array<string>;\n  // List of supported qualities\n  qualities: Array<string>;\n  // Support 90s ratotation ?\n  rotation: boolean;\n  // Support mirroring ?\n  mirroring: boolean;\n  // min/max zoom (remated to Scale factors)\n  minZoom: number;\n  maxZoom: number;\n  // Preferd tile size\n  tileSize: Point | null;\n}\n\nexport const SERVER_CAPABILITIES_DEFAULT: ServerCapabilities = {\n  version: \"3.0\",\n  formats: [],\n  qualities: [],\n  rotation: false,\n  mirroring: false,\n  tileSize: null,\n  minZoom: 0,\n  maxZoom: 0,\n};\n\n/**\n * Settings of the layer.\n */\nexport interface IIIFLayerOptions extends TileLayerOptions {\n  // Size of the tile (as a square)\n  // If not specified and the server has a preference, we take it, otherwise 256\n  tileSize: Point;\n  // Format of the tiles (ie png, jpg, ...).\n  // Default is 'jpg'\n  tileFormat: string;\n  // Quality\n  quality: string;\n  // Rotation (ex: 0, 90, 180, 270).\n  // Default: 0\n  rotation: number;\n  // Mirroring\n  // Default false\n  mirroring: boolean;\n  // When initialiazed the layer, do you want to see the full picture ?\n  fitBounds: boolean;\n  // Does the user can pan outside the image ?\n  setMaxBounds: boolean;\n}\n\nexport const DEFAULT_OPTIONS: IIIFLayerOptions = {\n  tileSize: L.point(256, 256),\n  tileFormat: \"jpg\",\n  quality: \"default\",\n  rotation: 0,\n  mirroring: false,\n  fitBounds: true,\n  setMaxBounds: false,\n  minZoom: 0,\n  maxZoom: 0,\n  zoomOffset: 0,\n};\n\ninterface IIIFControlAction {\n  enabled: boolean;\n  title: string;\n  html: string;\n  // if undefined, we take the one from the server\n  values?: Array<string>;\n}\n\nexport interface IIIFControlOptions extends ControlOptions {\n  quality: IIIFControlAction;\n  format: IIIFControlAction;\n  rotation: IIIFControlAction;\n  mirroring: IIIFControlAction;\n}\n\nexport const DEFAULT_CONTROL_OPTIONS: IIIFControlOptions = {\n  quality: {\n    enabled: true,\n    title: \"Quality\",\n    html: `<span />`,\n  },\n  format: {\n    enabled: true,\n    title: \"Format\",\n    html: `<span />`,\n  },\n  rotation: {\n    enabled: true,\n    title: \"Rotation\",\n    html: `<span />`,\n  },\n  mirroring: {\n    enabled: true,\n    title: \"Mirroring\",\n    html: `<span />`,\n  },\n};\n\nexport interface TileUrlParams {\n  format: string;\n  quality: string;\n  mirroring: boolean;\n  region: [number, number, number, number];\n  rotation: number;\n  size: [number, number];\n}\n","import L from \"leaflet\";\nimport { SERVER_CAPABILITIES_DEFAULT, ServerCapabilities } from \"../types\";\n\n/**\n * Compute the server capabilities from the response of the info.\n */\nexport function computeServerCapabilities(data: any): ServerCapabilities {\n  let uri = `${data[\"@context\"]}`;\n\n  // in v3 it can be an array where the last item is the uri\n  if (data[\"@context\"] instanceof Array) {\n    uri = data[\"@context\"][data[\"@context\"].length - 1];\n  }\n\n  switch (uri) {\n    case \"http://library.stanford.edu/iiif/image-api/1.1/context.json\":\n      return computeServerCapabilitiesForV1(data);\n      break;\n    case \"http://iiif.io/api/image/2/context.json\":\n      return computeServerCapabilitiesForV2(data);\n      break;\n    case \"http://iiif.io/api/image/3/context.json\":\n    default:\n      return computeServerCapabilitiesForV3(data);\n      break;\n  }\n}\n\n/**\n * Compute the server capabilities for a IIIF server in v1.1.\n * @see https://iiif.io/api/image/1.1/compliance/\n */\nexport function computeServerCapabilitiesForV1(data: any): ServerCapabilities {\n  const capabilities = Object.assign({}, SERVER_CAPABILITIES_DEFAULT);\n  capabilities.version = \"1.1\";\n\n  // Search the level compliance level\n  const match = `${data.profile}`.match(/^http:\\/\\/library.stanford.edu\\/iiif\\/image-api\\/1.1\\/compliance.html#(.*)$/);\n  const level = match && match.length === 2 ? match[1] : \"level0\";\n\n  // Defined capabilities per level\n  switch (level) {\n    case \"level2\":\n      capabilities.rotation = true;\n      capabilities.formats = [\"jpg\", \"png\"];\n      capabilities.qualities = [\"native\", \"color\", \"grey\", \"bitonial\"];\n      break;\n    case \"level1\":\n      capabilities.rotation = true;\n      capabilities.formats = [\"jpg\"];\n      capabilities.qualities = [\"native\"];\n      break;\n    // level0\n    default:\n      capabilities.rotation = false;\n      capabilities.formats = [\"jpg\"];\n      capabilities.qualities = [\"native\"];\n      break;\n  }\n  // Formats\n  if (data.formats) capabilities.formats = data.formats;\n\n  // Qualities\n  if (data.qualities) capabilities.qualities = data.qualities;\n\n  // Tiles size\n  if (data.tile_width)\n    capabilities.tileSize = L.point(data.tile_width, data.tile_height ? data.tile_height : data.tile_width);\n\n  // Scale factors\n  if (data.scale_factors && data.scale_factors.length > -1) {\n    capabilities.minZoom =\n      Math.log2(data.scale_factors[data.scale_factors.length - 1]) *\n      (data.scale_factors[data.scale_factors.length - 1] > 1 ? -1 : 1);\n    capabilities.maxZoom = Math.log2(data.scale_factors[0]) * (data.scale_factors[0] > 1 ? -1 : 1);\n  }\n\n  return capabilities;\n}\n\n/**\n * Compute the server capabilities for a IIIF server in v2.0.\n * @see https://iiif.io/api/image/2.0/#successful-responses\n */\nfunction computeServerCapabilitiesForV2(data: any): ServerCapabilities {\n  const capabilities = Object.assign({}, SERVER_CAPABILITIES_DEFAULT);\n  capabilities.version = \"2.0\";\n  const level = data.profile[0];\n\n  // Defined capabilities per level\n  switch (level) {\n    case \"level2\":\n      capabilities.qualities = [\"default\", \"bitonial\"];\n      capabilities.formats = [\"jpg\", \"png\"];\n      break;\n    case \"level1\":\n      capabilities.qualities = [\"default\"];\n      capabilities.formats = [\"jpg\", \"png\"];\n      break;\n    // level0\n    default:\n      capabilities.qualities = [\"default\"];\n      capabilities.formats = [\"jpg\"];\n      break;\n  }\n\n  // Formats\n  if (data.profile[1] && data.profile[1].formats) capabilities.formats = data.profile[1].formats;\n\n  // Qualities\n  if (data.profile[1] && data.profile[1].qualities) capabilities.qualities = data.profile[1].qualities;\n\n  // Rotation\n  if (\n    data.profile[1] &&\n    data.profile[1].supports &&\n    (data.profile[1].supports.includes(\"rotationBy90s\") || data.profile[1].supports.includes(\"rotationArbitrary\"))\n  )\n    capabilities.rotation = true;\n\n  // Mirroring\n  if (data.profile[1] && data.profile[1].supports && data.profile[1].supports.includes(\"mirroring\"))\n    capabilities.mirroring = true;\n\n  // Tiles size & scale factors\n  if (data.tiles && data.tiles.length > -1) {\n    const tile = data.tiles[0];\n    capabilities.tileSize = L.point(tile.width, tile.height ? tile.height : tile.width);\n    capabilities.minZoom =\n      Math.log2(tile.scaleFactors[tile.scaleFactors.length - 1]) *\n      (tile.scaleFactors[tile.scaleFactors.length - 1] > 1 ? -1 : 1);\n    capabilities.maxZoom = Math.log2(tile.scaleFactors[0]) * (tile.scaleFactors[0] > 1 ? -1 : 1);\n  }\n\n  return capabilities;\n}\n\n/**\n * Compute the server capabilities for a IIIF server in v3.0.\n * @see https://iiif.io/api/image/3.0/#51-image-information-request\n */\nfunction computeServerCapabilitiesForV3(data: any): ServerCapabilities {\n  const capabilities = Object.assign({}, SERVER_CAPABILITIES_DEFAULT);\n  capabilities.version = \"3.0\";\n\n  const level = data.profile;\n\n  // Defined capabilities per level\n  switch (level) {\n    case \"level2\":\n      capabilities.qualities = [\"default\"];\n      capabilities.formats = [\"jpg\", \"png\"];\n      break;\n    default:\n      capabilities.qualities = [\"default\"];\n      capabilities.formats = [\"jpg\"];\n      break;\n  }\n\n  // Extra format\n  if (data.extraFormats && data.extraFormats instanceof Array)\n    capabilities.formats = capabilities.formats.concat(\n      data.extraFormats.filter(ef => !capabilities.formats.includes(ef)),\n    );\n\n  // Extra qualities\n  if (data.extraQualities && data.extraQualities instanceof Array)\n    capabilities.qualities = capabilities.qualities.concat(\n      data.extraQualities.filter(eq => !capabilities.qualities.includes(eq)),\n    );\n\n  // Rotation\n  if (\n    data.extraFeatures &&\n    (data.extraFeatures.includes(\"rotationBy90s\") || data.extraFeatures.includes(\"rotationArbitrary\"))\n  )\n    capabilities.rotation = true;\n\n  // Mirroring\n  if (data.extraFeatures && data.extraFeatures.includes(\"mirroring\")) capabilities.mirroring = true;\n\n  // Tiles size\n  if (data.tiles && data.tiles.length > -1) {\n    const tile = data.tiles[0];\n    capabilities.tileSize = L.point(tile.width, tile.height ? tile.height : tile.width);\n    capabilities.minZoom =\n      Math.log2(tile.scaleFactors[tile.scaleFactors.length - 1]) *\n      (tile.scaleFactors[tile.scaleFactors.length - 1] > 1 ? -1 : 1);\n    capabilities.maxZoom = Math.log2(tile.scaleFactors[0]) * (tile.scaleFactors[0] > 1 ? -1 : 1);\n  }\n\n  return capabilities;\n}\n","import { TileUrlParams } from \"../types\";\nimport L from \"leaflet\";\n\n/**\n * Construct the tiles url template from the iiif image url\n */\nexport function templateUrl(url: string): string {\n  return url.replace(/info.json$/, \"{region}/{size}/{mirroring}{rotation}/{quality}.{format}\");\n}\n","export type Point = { x: number; y: number };\nexport type Square = { bottomLeft: Point; topRight: Point };\n\n/**\n * Rotation projection of a point around the origin 0,0.\n *\n * @param rotation The rotation in degree (ex: 90)\n * @param point The point to project\n * @returns The projected point for the specified rotation.\n */\nexport function projectPoint(rotation: number, point: Point): Point {\n  // negate to follow the direction 180-0\n  const rotationInRadian = (-1 * rotation * Math.PI) / 180;\n  return {\n    x: Math.round(point.x * Math.cos(rotationInRadian) - point.y * Math.sin(rotationInRadian)),\n    y: Math.round(point.y * Math.cos(rotationInRadian) + point.x * Math.sin(rotationInRadian)),\n  };\n}\n\n/**\n * Rotation projection of a square, around the origin 0,0.\n *\n * @param rotation The rotation in degree (ex: 90)\n * @param square The square to project\n * @returns The projected square for the specified rotation.\n */\nexport function projectSquare(rotation: number, square: Square): Square {\n  const p1 = projectPoint(rotation, square.bottomLeft);\n  const p2 = projectPoint(rotation, square.topRight);\n  const minX = Math.min(p1.x, p2.x);\n  const maxX = Math.max(p1.x, p2.x);\n  const minY = Math.min(p1.y, p2.y);\n  const maxY = Math.max(p1.y, p2.y);\n  return {\n    bottomLeft: { x: minX, y: minY },\n    topRight: { x: maxX, y: maxY },\n  };\n}\n","import L, { Control, Map } from \"leaflet\";\nimport { IIIFLayer } from \"./layer\";\nimport { IIIF_EVENTS } from \"./event\";\nimport { DEFAULT_CONTROL_OPTIONS, IIIFControlOptions } from \"./types\";\n\nconst CONTROL_NAME = \"leaflet-control-iiif\";\n\nexport class IIIFControl extends Control {\n  // Control options\n  public options: IIIFControlOptions;\n\n  layer: IIIFLayer;\n  _container: HTMLElement;\n\n  /**\n   * IIIF Control constructor.\n   *\n   * @param {object} options List of options for the control\n   */\n  constructor(layer: IIIFLayer, options: Partial<IIIFControlOptions> = {}) {\n    super(Object.assign({}, DEFAULT_CONTROL_OPTIONS, options));\n    this.layer = layer;\n    this._container = L.DomUtil.create(\"div\", `${CONTROL_NAME} leaflet-bar`);\n  }\n\n  onAdd(map: Map): HTMLElement {\n    const container = this.getContainer();\n\n    // Waiting the init of the layer\n    this.layer.initializePromise.then(() => {\n      // Qualities\n      if (this.options.quality.enabled === true) {\n        const qualities = this.options.quality.values ? this.options.quality.values : this.layer.server.qualities;\n        this.createActions(\n          container,\n          this.options.quality.title,\n          `${CONTROL_NAME}-quality`,\n          this.options.quality.html,\n          qualities.map((quality: string) => {\n            return {\n              title: quality,\n              className: `${CONTROL_NAME}-quality-${quality}`,\n              innerHTML: quality,\n              fn: () => {\n                map.fire(IIIF_EVENTS.CHANGE_QUALITY, { value: quality });\n              },\n            };\n          }),\n        );\n      }\n\n      // Formats\n      if (this.options.format.enabled === true) {\n        const formats = this.options.format.values ? this.options.format.values : this.layer.server.formats;\n        this.createActions(\n          container,\n          this.options.format.title,\n          `${CONTROL_NAME}-format`,\n          this.options.format.html,\n          formats.map((format: string) => {\n            return {\n              title: format,\n              className: `${CONTROL_NAME}-format-${format}`,\n              innerHTML: format,\n              fn: () => {\n                map.fire(IIIF_EVENTS.CHANGE_FORMAT, { value: format });\n              },\n            };\n          }),\n        );\n      }\n\n      // Formats\n      if (this.options.rotation.enabled === true && this.layer.server.rotation === true) {\n        const rotations = this.options.rotation.values ? this.options.rotation.values : [\"0\", \"90\", \"180\", \"270\"];\n        this.createActions(\n          container,\n          this.options.rotation.title,\n          `${CONTROL_NAME}-rotation`,\n          this.options.rotation.html,\n          rotations.map((rotation: string) => {\n            return {\n              title: rotation,\n              className: `${CONTROL_NAME}-rotation-${rotation}`,\n              innerHTML: rotation,\n              fn: () => {\n                map.fire(IIIF_EVENTS.CHANGE_ROTATION, { value: Number.parseInt(rotation) });\n              },\n            };\n          }),\n        );\n      }\n\n      // Mirroring\n      if (this.options.mirroring.enabled === true && this.layer.server.mirroring === true) {\n        this.createButton(\n          container,\n          this.options.mirroring.title,\n          `${CONTROL_NAME}-mirroring`,\n          this.options.mirroring.html,\n          () => {\n            map.fire(IIIF_EVENTS.CHANGE_MIRRORING, { value: !this.layer.options.mirroring });\n          },\n        );\n      }\n    });\n\n    return container;\n  }\n\n  /**\n   * Create a button\n   */\n  private createActions(\n    container: HTMLElement,\n    title: string,\n    className: string,\n    innerHTML: string,\n    actions: Array<{ title: string; className: string; innerHTML: string; fn: () => void }>,\n  ) {\n    const actionsWrapper = L.DomUtil.create(\"div\", className);\n    this.createButton(actionsWrapper, title, className, innerHTML, () => {\n      if (container.dataset.opened === className) container.dataset.opened = \"\";\n      else container.dataset.opened = className;\n    });\n\n    const actionsList = L.DomUtil.create(\"ul\", className);\n    actions.forEach(action => {\n      const li = L.DomUtil.create(\"li\", \"\", actionsList);\n      this.createButton(li, action.title, action.className, action.innerHTML, () => {\n        action.fn();\n        container.dataset.opened = \"\";\n      });\n      actionsList.appendChild(li);\n    });\n    actionsWrapper.appendChild(actionsList);\n\n    container.appendChild(actionsWrapper);\n  }\n\n  /**\n   * Create a button\n   */\n  private createButton(\n    container: HTMLElement,\n    title: string,\n    className: string,\n    innerHTML: string,\n    fn: () => void,\n  ): HTMLElement {\n    var link: HTMLElement = L.DomUtil.create(\"a\", className, container);\n    link.title = title;\n    link.innerHTML = innerHTML;\n    L.DomEvent.on(link, \"mousedown dblclick\", L.DomEvent.stopPropagation).on(link, \"click\", fn, this);\n    return link;\n  }\n}\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nimport ___CSS_LOADER_URL_IMPORT_0___ from \"./paint-board-and-brush.svg?encoding=base64\";\nimport ___CSS_LOADER_URL_IMPORT_1___ from \"./jpg.svg?encoding=base64\";\nimport ___CSS_LOADER_URL_IMPORT_2___ from \"./symmetry.svg?encoding=base64\";\nimport ___CSS_LOADER_URL_IMPORT_3___ from \"./rotate-circular-arrow-around-a-rotated-square.svg?encoding=base64\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".leaflet-tile-container .leaflet-tile .leaflet-iiif-tile {\\n  height: 100%;\\n  width: 100%;\\n}\\n.leaflet-tile-container .leaflet-tile .leaflet-iiif-tile img {\\n  flex-shrink: 0;\\n}\\n\\n.leaflet-control-iiif a {\\n  cursor: pointer;\\n  background-size: 15px 15px;\\n}\\n.leaflet-control-iiif a.leaflet-control-iiif-quality {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n}\\n.leaflet-control-iiif a.leaflet-control-iiif-format {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");\\n}\\n.leaflet-control-iiif a.leaflet-control-iiif-mirroring {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n}\\n.leaflet-control-iiif a.leaflet-control-iiif-rotation {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");\\n}\\n.leaflet-control-iiif ul {\\n  display: none;\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n  position: relative;\\n  width: 0;\\n  height: 0;\\n  top: -30px;\\n  right: -1px;\\n  flex-flow: row-reverse;\\n}\\n.leaflet-control-iiif ul li {\\n  display: inline-block;\\n}\\n.leaflet-control-iiif ul li a {\\n  background-color: #919187;\\n  color: #fff;\\n  padding: 0 5px;\\n  width: auto !important;\\n  border-right: 1px solid #fff;\\n}\\n\\ndiv.leaflet-control-iiif[data-opened=leaflet-control-iiif-quality] ul.leaflet-control-iiif-quality {\\n  display: flex;\\n}\\n\\ndiv.leaflet-control-iiif[data-opened=leaflet-control-iiif-format] ul.leaflet-control-iiif-format {\\n  display: flex;\\n}\\n\\ndiv.leaflet-control-iiif[data-opened=leaflet-control-iiif-rotation] ul.leaflet-control-iiif-rotation {\\n  display: flex;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/assets/index.scss\"],\"names\":[],\"mappings\":\"AAEI;EACE,YAAA;EACA,WAAA;AADN;AAGM;EACE,cAAA;AADR;;AAOE;EACE,eAAA;EACA,0BAAA;AAJJ;AAOE;EACE,yDAAA;AALJ;AAOE;EACE,yDAAA;AALJ;AAOE;EACE,yDAAA;AALJ;AAOE;EACE,yDAAA;AALJ;AAQE;EACE,aAAA;EACA,gBAAA;EACA,SAAA;EACA,UAAA;EACA,kBAAA;EACA,QAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,sBAAA;AANJ;AAQI;EACE,qBAAA;AANN;AAQM;EACE,yBAAA;EACA,WAAA;EACA,cAAA;EACA,sBAAA;EACA,4BAAA;AANR;;AAaA;EACE,aAAA;AAVF;;AAYA;EACE,aAAA;AATF;;AAWA;EACE,aAAA;AARF\",\"sourcesContent\":[\".leaflet-tile-container {\\n  .leaflet-tile {\\n    .leaflet-iiif-tile {\\n      height: 100%;\\n      width: 100%;\\n\\n      img {\\n        flex-shrink: 0;\\n      }\\n    }\\n  }\\n}\\n.leaflet-control-iiif {\\n  a {\\n    cursor: pointer;\\n    background-size: 15px 15px;\\n  }\\n\\n  a.leaflet-control-iiif-quality {\\n    background-image: url(\\\"./paint-board-and-brush.svg?encoding=base64\\\");\\n  }\\n  a.leaflet-control-iiif-format {\\n    background-image: url(\\\"./jpg.svg?encoding=base64\\\");\\n  }\\n  a.leaflet-control-iiif-mirroring {\\n    background-image: url(\\\"./symmetry.svg?encoding=base64\\\");\\n  }\\n  a.leaflet-control-iiif-rotation {\\n    background-image: url(\\\"./rotate-circular-arrow-around-a-rotated-square.svg?encoding=base64\\\");\\n  }\\n\\n  ul {\\n    display: none;\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n    position: relative;\\n    width: 0;\\n    height: 0;\\n    top: -30px;\\n    right: -1px;\\n    flex-flow: row-reverse;\\n\\n    li {\\n      display: inline-block;\\n\\n      a {\\n        background-color: #919187;\\n        color: #fff;\\n        padding: 0 5px;\\n        width: auto !important;\\n        border-right: 1px solid #fff;\\n      }\\n    }\\n  }\\n}\\n\\n// Menu selection\\ndiv.leaflet-control-iiif[data-opened=\\\"leaflet-control-iiif-quality\\\"] ul.leaflet-control-iiif-quality {\\n  display: flex;\\n}\\ndiv.leaflet-control-iiif[data-opened=\\\"leaflet-control-iiif-format\\\"] ul.leaflet-control-iiif-format {\\n  display: flex;\\n}\\ndiv.leaflet-control-iiif[data-opened=\\\"leaflet-control-iiif-rotation\\\"] ul.leaflet-control-iiif-rotation {\\n  display: flex;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== \"string\") {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNDMxLjk4NXB4IiBoZWlnaHQ9IjQzMS45ODVweCIgdmlld0JveD0iMCAwIDQzMS45ODUgNDMxLjk4NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDMxLjk4NSA0MzEuOTg1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxnPiA8cGF0aCBkPSJNNDIzLjI1Nyw1MS44MjljLTAuODA4LTIuMDQ1LTIuNjctMy40ODQtNC44NTMtMy43NTFjLTIuMTc3LTAuMjY2LTQuMzM1LDAuNjgyLTUuNjEyLDIuNDcyIGMtNy41ODEsMTAuNjI5LTE3LjUyOSwxNC4xNzItMjkuMDUzLDE4LjI3NWMtOS4yOTIsMy4zMS0xOC45MDEsNi43My0yOS4yODYsMTQuMTg2Yy0xNC42ODcsMTAuNTQ0LTIxLjQwNSwyNC45MTctMTguMDU1LDM4LjU0IGwtMC4zNTgsMC40NTljLTYuMTMzLTguODk3LTEyLjgwNi0xNy4xMjYtMTkuODQ4LTI0LjQ3NGMtMzIuOTQ3LTM0LjM3OC03OC45ODQtNTUuMDQ2LTEyNi4zMTEtNTYuNzAzIGMtMi4wODUtMC4wNzMtNC4yMDQtMC4xMS02LjI5OC0wLjExYy01Mi44NDYsMC0xMDMuNDI4LDIzLjYyNC0xMzguNzc1LDY0LjgxM0M5LjY0NiwxNDYuNTEyLTUuOTM5LDE5OS44NTMsMi4wNTEsMjUxLjg4MiBjMC42NjgsNC4zNDksMS41MDQsOC43NDMsMi40ODcsMTMuMDYzYzEyLjk5Niw1Ny4yMDIsNDYuMTg5LDEwMC43MTcsOTEuMDY5LDExOS4zODNjMTEuMDYzLDQuNjAyLDIyLjIyMiw2LjkzNCwzMy4xNjMsNi45MzQgYzI3LjE4MywwLDUwLjkyNi0xNC41MzksNjUuMTQzLTM5Ljg4OWM1LjQwNC05LjY0Niw4Ljg5MS0xOS42MjEsMTAuMzYtMjkuNjUxYzAuODY2LTUuOTIsMC4yNzQtMTEuODM1LTAuMy0xNy41NjcgYy0wLjU5MS01LjktMS4xNDktMTEuNDc2LTAuMjU2LTE3LjA5YzIuMDQ3LTEyLjg2OSwxMS4wMzYtMjAuNTUzLDI0LjA0Ny0yMC41NTNjMy43MDEsMCw3LjQ4MywwLjYwOSwxMS4yNiwxLjgxMiBjLTQuNDIyLDguMTEtOC40MzgsMTUuODU0LTExLjk0NywyMy4wMzJjLTcuNDM3LDE1LjIxMi0xMi41NjcsMjcuODEtMTUuMjUyLDM3LjQ0Yy0xLjY1NSw1LjkzOS02LjA1MiwyMS43MjIsNC42NywyOS4xNjQgYzMuNDA1LDIuMzYzLDcuNzIyLDMuMTk3LDEyLjIxNSwyLjM2MWM0LjA0OS0wLjc1MiwxNi4zNjktMy4wNDEsNTEuMzc4LTQyLjg5NmM5LjM5Ni0xMC42OTUsMTkuNTIxLTIzLjA3MiwzMC4xMDQtMzYuNzk0IGMyNy4xNjgtOS4xNSw0OC4zMS0zMS45MjEsNTMuOTAzLTU4LjA4N2MxLjQtNi41NDEsMS45ODQtMTMuNTQxLDEuNzM1LTIwLjgxMmMxMC4xNzItMTUuNzIsMTkuMDk0LTMwLjM4OCwyOC4wNzItNDYuMTU2IGMwLjE3Mi0wLjMwNCwwLjM0Mi0wLjYyOCwwLjUxLTAuOTZjMTMuMDMxLTMuNTY5LDI0LjI1NC0xMy43MSwzMC44NDItMjcuODkxQzQzNC44NzIsMTA2LjAyOCw0MzQuMTYzLDc5LjQyOCw0MjMuMjU3LDUxLjgyOXogTTI3Ni4zODUsMTQ5LjgzNGMtNC43MTMsNy40ODUtMTIuODE0LDExLjk1NC0yMS42NzMsMTEuOTU0Yy00LjgxLDAtOS41MTUtMS4zNjEtMTMuNjA1LTMuOTM3IGMtNS43ODItMy42NDItOS44MDMtOS4zMTctMTEuMzE2LTE1Ljk4cy0wLjM0NS0xMy41MTgsMy4yOTgtMTkuMzAxYzQuNzE0LTcuNDg1LDEyLjgxNi0xMS45NTQsMjEuNjc1LTExLjk1NCBjNC44MTEsMCw5LjUxNSwxLjM2MSwxMy42MDQsMy45MzhjNS43ODIsMy42NCw5LjgwMiw5LjMxNSwxMS4zMTYsMTUuOTc5QzI4MS4xOTcsMTM3LjE5NywyODAuMDI2LDE0NC4wNTEsMjc2LjM4NSwxNDkuODM0eiBNMzA5LjU5MiwxOTYuMTg3YzEyLjkzNC0xOS4wNTcsMjYuNjEyLTM4LDM5LjYwNC01NC44NWMyLjEwNiwxLjkwMiw0LjQ2MSwzLjc2LDcuMDEyLDUuNTNjNC4yMjcsMi45MzMsOC42NDgsNS4yMDEsMTMuMTY0LDYuNzU0IGMtMTAuOTY5LDE4Ljc1OC0yMi43NjMsMzcuMzQyLTM3LjA0Myw1OC4zNzVjLTIzLjQ2MywzNC41NzEtNDcuODU5LDY2LjY4NC02OC42OTUsOTAuNDI0IGMtMTEuNjM4LDEzLjI2LTIxLjgyMywyMy40OTgtMjkuNjcxLDI5LjgzOWMzLjAyOS05LjY5LDguODE4LTIyLjk4OSwxNi44NzUtMzguNzQ2IEMyNjUuMjQ1LDI2NS4zMzYsMjg2LjExMSwyMzAuNzcyLDMwOS41OTIsMTk2LjE4N3ogTTgyLjUwNiwxOTYuMDIzYy00LjgxMSwwLTkuNTE2LTEuMzYxLTEzLjYwNy0zLjkzOCBjLTUuNzgyLTMuNjQxLTkuODAxLTkuMzE0LTExLjMxNS0xNS45NzljLTEuNTE0LTYuNjY0LTAuMzQyLTEzLjUxOSwzLjMwMS0xOS4zMDJjNC43MTEtNy40ODQsMTIuODEzLTExLjk1MywyMS42NzEtMTEuOTUzIGM0LjgxMiwwLDkuNTE3LDEuMzYxLDEzLjYwNywzLjkzOGMxMS45MzYsNy41MTgsMTUuNTMyLDIzLjM0NSw4LjAxOSwzNS4yNzlDOTkuNDY2LDE5MS41NTQsOTEuMzYzLDE5Ni4wMjMsODIuNTA2LDE5Ni4wMjN6IE01NS42ODgsMjUyLjM1OGM0LjcxMy03LjQ4NiwxMi44MTQtMTEuOTU1LDIxLjY3My0xMS45NTVjNC44MSwwLDkuNTE0LDEuMzYyLDEzLjYwNiwzLjkzOGM1Ljc4MiwzLjY0MSw5LjgwMSw5LjMxNSwxMS4zMTUsMTUuOTc5IGMxLjUxNSw2LjY2MiwwLjM0MywxMy41MTYtMy4zMDEsMTkuMzAxYy00LjcxMSw3LjQ4My0xMi44MTMsMTEuOTUzLTIxLjY3MSwxMS45NTNjLTQuODExLDAtOS41MTctMS4zNjEtMTMuNjA5LTMuOTM4IGMtNS43ODItMy42NDItOS44LTkuMzE1LTExLjMxMy0xNS45NzlDNTAuODc2LDI2NC45OTUsNTIuMDQ5LDI1OC4xNCw1NS42ODgsMjUyLjM1OHogTTEzNy42MiwxMDAuNDE0IGM0LjcxMy03LjQ4NSwxMi44MTUtMTEuOTU0LDIxLjY3My0xMS45NTRjNC44MDksMCw5LjUxNCwxLjM2MSwxMy42MDQsMy45MzdjMTEuOTM3LDcuNTE2LDE1LjUzMywyMy4zNDQsOC4wMTksMzUuMjggYy00LjcxNSw3LjQ4Ni0xMi44MTcsMTEuOTU1LTIxLjY3NSwxMS45NTVjLTQuODEsMC05LjUxNS0xLjM2MS0xMy42MDUtMy45MzhjLTUuNzgxLTMuNjQtOS43OTktOS4zMTQtMTEuMzEzLTE1Ljk3OSBDMTMyLjgwNywxMTMuMDUyLDEzMy45NzksMTA2LjE5OCwxMzcuNjIsMTAwLjQxNHoiLz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8Zz4gPC9nPiA8L3N2Zz4g\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPiA8cG9seWdvbiBwb2ludHM9IjM2MSw4Ljc4OSAzNjEsOTAgNDQyLjIxMSw5MCAiLz4gPHBvbHlnb24gcG9pbnRzPSIzMTYsMjE0Ljc1IDI4MC45OTQsMjQxIDMyNC45OTQsMjc0LjAwMyAzMDcuMDA2LDI5Ny45OTcgMTk2LDIxNC43NSA2MSwzMjMuMTc0IDYxLDM2MSA0NTEsMzYxIDQ1MSwzMjMuMTc0ICIvPiA8cGF0aCBkPSJNMTY2LDkwYy04LjI3NiwwLTE1LDYuNzI0LTE1LDE1czYuNzI0LDE1LDE1LDE1czE1LTYuNzI0LDE1LTE1UzE3NC4yNzYsOTAsMTY2LDkweiIvPiA8cGF0aCBkPSJNNjEsMzkxdjEyMWgzOTBWMzkxSDYxeiBNMzMxLDQ1MUgxODF2LTMwaDE1MFY0NTF6Ii8+IDxwYXRoIGQ9Ik0zMzEsMTIwVjBINjF2Mjg0Ljg3NEwxOTYsMTc3LjI1bDYwLjAwMiw0NS4wMDVMMzE2LDE3Ny4yNWwxMzUsMTA3LjYyNFYxMjBIMzMxeiBNMTY2LDE1MGMtMjQuODE0LDAtNDUtMjAuMTg2LTQ1LTQ1IGMwLTI0LjgxNCwyMC4xODYtNDUsNDUtNDVjMjQuODE0LDAsNDUsMjAuMTg2LDQ1LDQ1QzIxMSwxMjkuODE0LDE5MC44MTQsMTUwLDE2NiwxNTB6Ii8+IDwvc3ZnPiA=\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTI0MSA0NTFoMzB2MzBoLTMweiIvPjxwYXRoIGQ9Im0yNDEgMzkxaDMwdjMwaC0zMHoiLz48cGF0aCBkPSJtMjQxIDMzMWgzMHYzMGgtMzB6Ii8+PHBhdGggZD0ibTI0MSAyNzFoMzB2MzBoLTMweiIvPjxwYXRoIGQ9Im0yNDEgMjExaDMwdjMwaC0zMHoiLz48cGF0aCBkPSJtMjQxIDE1MWgzMHYzMGgtMzB6Ii8+PHBhdGggZD0ibTI0MSA5MWgzMHYzMGgtMzB6Ii8+PHBhdGggZD0ibTI0MSAzMWgzMHYzMGgtMzB6Ii8+PHBhdGggZD0ibTAgNDMzLjYyNSAyMDYtNjYuNzE2di0yMTEuMjQ5bC0yMDYtNzguNDJ6Ii8+PHBhdGggZD0ibTMwNiAxNTUuNjZ2MjExLjI0OWwyMDYgNjYuNzE2di0zNTYuMzg1eiIvPjwvZz48L3N2Zz4g\"","module.exports = \"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTE2Ljk1OHB4IiBoZWlnaHQ9IjExNi45NThweCIgdmlld0JveD0iMCAwIDExNi45NTggMTE2Ljk1OCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTE2Ljk1OCAxMTYuOTU4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxwYXRoIGQ9Ik01OC40NzIsOTIuMzI0YzEuMDQyLDAsMi4wMjUtMC40MDgsMi43NjItMS4xNDVsMjQuODY0LTI0Ljg2NWMwLjczOS0wLjczNiwxLjE0NS0xLjcyMSwxLjE0NS0yLjc2MiBzLTAuNDA1LTIuMDI2LTEuMTQ1LTIuNzY0bC0yNC44Ni0yNC44NjJjLTEuNDc3LTEuNDc0LTQuMDQ4LTEuNDc0LTUuNTI0LDBMMzAuODQ2LDYwLjc5Yy0wLjczNiwwLjczNi0xLjE0NSwxLjcyMy0xLjE0NSwyLjc2NCBzMC40MDgsMi4wMjQsMS4xNDUsMi43NjJsMjQuODYzLDI0Ljg2NEM1Ni40NDYsOTEuOTE2LDU3LjQzLDkyLjMyNCw1OC40NzIsOTIuMzI0eiIvPiA8cGF0aCBkPSJNMTAxLjIzNywzMS41NzdjLTguNTQzLTExLjQxOS0yMS4wMjItMTguODMyLTM1LjEzOC0yMC44NzNjLTguNTYyLTEuMjMxLTE3LjI4My0wLjM2Ni0yNS40MTcsMi41MzNMMzQuOTc0LDEuODMzIGMtMC41NjQtMS4xMjktMS43NDctMS45NDgtMy4xODYtMS44MTljLTEuMzQ3LDAuMDk2LTIuNDg4LDAuOTgtMi45MTEsMi4yNTVsLTcuMzcxLDIyLjExN2MtMC41NzIsMS43MjQsMC4zNjIsMy42MDIsMi4wOTksNC4xODggbDIyLjExMyw3LjM2N2MxLjI1MSwwLjQwOCwyLjY5LDAuMDE1LDMuNTQ0LTAuOTczYzAuODg1LTEuMDE2LDEuMDY0LTIuNDUzLDAuNDYyLTMuNjUxbC01LjUyNS0xMS4wNDEgYzYuNjc3LTIuMjE3LDEzLjc5Mi0yLjg1LDIwLjc4Ni0xLjgzNWMxMi4wNTIsMS43MzYsMjIuNzAxLDguMDY0LDI5Ljk5NiwxNy44MjFjNy4yNzQsOS43MzIsMTAuMzI0LDIxLjczNSw4LjU4NCwzMy43OTkgYy0xLjc0LDEyLjA2Mi04LjA2MiwyMi43MTYtMTcuNzk0LDI5Ljk5NWMtOS43MjMsNy4yNzEtMjEuNzc4LDEwLjM0NC0zMy44MDcsOC42MDZjLTEyLjA1Mi0xLjczNS0yMi43MDEtOC4wNjMtMjkuOTkyLTE3LjgxOSBjLTUuODE0LTcuNzY5LTguOTUtMTYuOTg2LTkuMDc2LTI2LjY1NGMtMC4wMjctMi4xMjktMS43ODItMy44NTYtMy45NTctMy44NTZjLTIuMTU2LDAuMDMtMy44ODQsMS44MDUtMy44NTcsMy45NiBDNS4yMyw3NS42MjEsOC45MDksODYuNDIxLDE1LjcxNSw5NS41MjljOC41MzksMTEuNDE4LDIxLjAxNCwxOC44MzIsMzUuMTMxLDIwLjg3M2MyLjU3NSwwLjM2OSw1LjE3NywwLjU1Nyw3LjczNywwLjU1NyBjMTEuNTM3LDAsMjIuNTU2LTMuNjgyLDMxLjg2NS0xMC42NDVjMTEuNDIzLTguNTQzLDE4LjgzNi0yMS4wMiwyMC44NjktMzUuMTM1QzExMy4zNTgsNTcuMDY2LDEwOS43NzUsNDMsMTAxLjIzNywzMS41Nzd6Ii8+IDwvc3ZnPiA=\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import L from \"leaflet\";\nimport { IIIFLayerOptions, IIIFControlOptions, ServerCapabilities } from \"./types\";\nimport { IIIF_EVENTS } from \"./event\";\nimport { IIIFLayer } from \"./layer\";\nimport { IIIFControl } from \"./toolbar\";\nimport \"./assets/index.scss\";\n\nexport { IIIFLayer, IIIFControl, IIIFLayerOptions, IIIFControlOptions, ServerCapabilities };\n\nwindow.L[\"Iiif\"] = { Event: IIIF_EVENTS };\nwindow.L.tileLayer[\"iiif\"] = function(url: string, options: IIIFLayerOptions) {\n  return new IIIFLayer(url, options);\n};\nwindow.L.control[\"iiif\"] = function(layer: IIIFLayer, options: IIIFControlOptions) {\n  return new IIIFControl(layer, options);\n};\n"],"sourceRoot":""}